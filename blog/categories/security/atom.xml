<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Security | Learn / Code / Share]]></title>
  <link href="http://pifst.github.io/blog/categories/security/atom.xml" rel="self"/>
  <link href="http://pifst.github.io/"/>
  <updated>2013-09-12T22:58:01-04:00</updated>
  <id>http://pifst.github.io/</id>
  <author>
    <name><![CDATA[Christopher Fields]]></name>
    
  </author>
  <generator uri="http://ryandeussing.com/">Ryan Deussing</generator>

  
  <entry>
    <title type="html"><![CDATA[Updating SSH Fingerprints]]></title>
    <link href="http://pifst.github.io/blog/2013/09/03/updating-an-ssh-key/"/>
    <updated>2013-09-03T18:25:00-04:00</updated>
    <id>http://pifst.github.io/blog/2013/09/03/updating-an-ssh-key</id>
    <content type="html"><![CDATA[<h2>Background</h2>

<p> I recently needed to format &amp; reinstall a problem debian installation on my RPI.  Since I kept the default hostname (the root password did change.. sorry guys), my router&rsquo;s DHCP server recognized the RPI&rsquo;s MAC &amp; hostname as the same, issuing the same IP address; business as usual.</p>

<p> So upon connecting to the RPI&rsquo;s SSH daemon, I was presented with:</p>

<p>  <div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Fingerprint Error </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ssh &lt;a href="&#109;&#97;&#x69;&#108;&#116;&#111;&#58;&#x70;&#x69;&#64;&#x31;&#x39;&#50;&#x2e;&#49;&#54;&#56;&#46;&#x31;&#x31;&#46;&#52;&#x39;">&#x70;&#x69;&#x40;&#49;&#57;&#50;&#x2e;&#49;&#x36;&#x38;&#x2e;&#x31;&#49;&#x2e;&#x34;&#x39;&lt;/a>
</span><span class='line'>  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
</span><span class='line'>  @    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
</span><span class='line'>  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
</span><span class='line'>  IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
</span><span class='line'>  Someone could be eavesdropping on you right now (man-in-the-middle attack)!
</span><span class='line'>  It is also possible that a host key has just been changed.
</span><span class='line'>  The fingerprint for the RSA key sent by the remote host is
</span><span class='line'>  7d:d2:85:c6:b9:0f:ae:1a:ff:0e:29:57:d6:92:09:22.
</span><span class='line'>  Please contact your system administrator.
</span><span class='line'>  Add correct host key in /Users/Chris/.ssh/known_hosts to get rid of this message.
</span><span class='line'>  Offending RSA key in /Users/Chris/.ssh/known_hosts:25
</span><span class='line'>  RSA host key for 192.168.11.49 has changed and you have requested strict checking.
</span><span class='line'>  Host key verification failed.</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Remove the outdated fingerprint</h2>

<p>  <div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Automated Removal </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sed -i &ldquo;25 d&rdquo; ~/.known_hosts</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Where &lsquo;<strong>25</strong>&rsquo; is the outdated fingerprint&rsquo;s line number, listed in the output.</p>

<p>And that&rsquo;s it, log back in, verify the fingerprint and accept.</p>

<p>Next up, install <a href="/blog/2013/08/26/mosh/">Mosh</a>!</p>
]]></content>
  </entry>
  
</feed>
